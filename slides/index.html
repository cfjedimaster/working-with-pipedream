<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Working with Pipedream</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/moon.css" id="theme">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Working with Pipedream</h1>
				</section>

				<section>
					<h2>read.me</h2>
					<ul>
						<li>Raymond Camden</li>
						<li>Senior Developer Evangelist for Adobe</li>
						<li>Enterprise Cat Demo Builder</li>
						<li>Second best "Just Dance 2019" player (in my house)</li>
						<li>Blogging at raymondcamden.com</li>
						<li>Tweeting @raymondcamden</li>
					</ul>
				</section>

				<section>
				<h2>What is Pipedream?</h2>
				<aside class="notes">
				One thing I like to do is look at how a service portrays itself in it's marketing
				versus what it's like in the 'real world'...
				</aside>
				</section>

				<section>
				<img src="img/pd1.png">
				<aside class="notes">
				So this is pretty well done, but doesn't sell just exactly how incredible PD is, 
				so let's consider an example
				</aside>
				</section>

				<section>
				<h2>App Idea!</h2>
				<ul>
				<li class="fragment">Million dollar idea, honest!</li>
				<li class="fragment">Create a new Twitter account</li>
				<li class="fragment">Every hour, tweet a random picture of a cat</li>
				</ul>
				</section>

				<section>
				<h2>App Idea - Implementation</h2>
				<ul>
				<li class="fragment">Set up a Node.js environment in production</li>
				<li class="fragment">Make Twitter app</li>
				<li class="fragment">Get Node SDK and setup credentials</li>
				<li class="fragment">Find my random cat picture</li>
				<li class="fragment">Upload picture to Twitter</li>
				<li class="fragment">Create Tweet and associate picture</li>
				<li class="fragment">Setup the schedule (CRON)</li>
				</ul>
				</section>

				<section>
				<h2>App Idea - Pipedream Implementation</h2>
				<ul>
				<li class="fragment"><s>Set up a Node.js environment in production</s></li>
				<li class="fragment"><s>Make Twitter app</s></li>
				<li class="fragment"><s>Get Node SDK and setup credentials</s></li>
				<li class="fragment">Find my random cat picture</li>
				<li class="fragment"><s>Upload picture to Twitter</s></li>
				<li class="fragment"><s>Create Tweet and associate picture</s></li>
				<li class="fragment"><s>Setup the schedule (CRON)</s></li>
				</ul>
				</section>

				<section>
					<img src="img/winning.jpg" class="r-stretch">
				</section>

				<section>
				<h2>I Blame Pipedream:</h2>
				<ul>
				<li class="fragment"><a href="https://twitter.com/randomcomicbook">@randomcomicbook</a></li>
				<li class="fragment"><a href="https://twitter.com/randomtaylorbot">@randomtaylorbot</a></li>
				<li class="fragment"><a href="https://twitter.com/npsbot">@npsbot</a></li>
				<li class="fragment"><a href="https://twitter.com/moonpicbot">@moonpicbot</a></li>
				<li class="fragment"><a href="https://twitter.com/randomgijoe">@randomgijoe</a></li>
				<li class="fragment"><a href="https://twitter.com/generatorqueen">@generatorqueen</a></li>
				<li class="fragment"><a href="https://twitter.com/superjoycat">@superjoycat</a></li>
				</ul>
				</section>

				<section>
				<h2>Pipedream Basics:</h2>
				<ul>
				<li class="fragment">Workflows</li>
				<li class="fragment">Combine pre-built apps + your code</li>
				<li class="fragment">*Huge* amount of pre-build code</li>
				<li class="fragment">Web-based editor</li>
				<li class="fragment">Ability to share/fork workflows</li>
				</ul>
				<aside class="notes">
				fork thing is how I built most of my twitter bots
				</aside>
				</section>

				<section>
				<h2>Pricing</h2>
				<ul>
				<li class="fragment">As of May 2021</li>
				<li class="fragment"><a href="https://pipedream.com/pricing" target="_new">https://pipedream.com/pricing</a></li>
				</ul>
				<aside class="notes">
				mention the caveat to 10k invocations being a lot
				</aside>
				</section>

				<section>
				<h2>Workflows</h2>
				<ul>
				<li class="fragment">Triggers (Event Sources)</li>
				<li class="fragment">Steps:
					<ul>
						<li class="fragment">Actions</li>
						<li class="fragment">Code</li>
					</ul>
				</li>
				</ul>
				</section>

				<section>
				<h2>Triggers</h2>
				<ul>
				<li class="fragment">HTTP</li>
				<li class="fragment">CRON</li>
				<li class="fragment">Email</li>
				<li class="fragment">App-based</li>
				<li class="fragment">Write your own</li>
				</ul>
				<aside class="notes">
				app based:
				a google event is starting
				new item posted to RSS feed
				data modified in a db
				msg in a discord or slack channel
				new tweet on search term X
				new file in a Dropbox folder
				
				you can literally define any kind of logic, have it "emit" an event, and build workflows on it
				full moon ES
				more realistic weather example, if too hot, do something
				</aside>
				</section>

				<section>
				<h2>Demo</h2>
				<aside class="notes">
login w/ backup person
point out intro stuff on top
New
HTTP API 
send test event
add code step
copy $respond 
copy url and run
go to workflow, show execution, show details 
notice 2 of them, one is favicon
edit the response to return steps.trigger.event.query, deploy
show execution, modify code and rerun with input (make an error when you do body: { .. }

name the workfloe
				</aside>
				</section>

				<section>
				<h2>Steps</h2>
				<ul>
				<li class="fragment">Custom code or pre-built/custom action</li>
				<li class="fragment">Steps can be named</li>
				<li class="fragment">Steps can have parameters</li>
				<li class="fragment">Steps can access results of other steps</li>
				<li class="fragment">Access to process.env too (good for secrets)</li>
				</ul>
				<aside class="notes">
				for pre-built action, you _still_ get the code and can modify
				</aside>
				</section>

				<section>
				<h2>Demo</h2>
				<aside class="notes">
				go back and add more code 
				we're going to demo a couple of things here at once

				add check name steps
				console.log(steps.trigger.event.query);
if(!steps.trigger.event.query.name) {
  steps.trigger.event.query.name = 'Bozo';
}
console.log(steps.trigger.event.query);

dont do the consoles first
show that its RO

named exports, or a return value, steps.nodejs.$return_value.data

				</aside>
				</section>

				<section>
				<h2>Actions</h2>
				<ul>
				<li class="fragment">Pre-built steps</li>
				<li class="fragment">Approx. 2 billion<sup>*</sup> available on Pipedream</li>
				<li class="fragment">You can author these</li>
				</ul>
				<aside class="notes">
				imagine you wrote a node step that was useful 
				</aside>
				</section>

				<section>
				<h2>"Real" Demo 1 - Version 1</h2>
				<ul>
				<li class="fragment">Hit a RSS feed and get entries</li>
				<li class="fragment">Search for X in entries</li>
				<li class="fragment">If any, email</li>
				<li class="fragment">Show "Search RSS 0"</li>
				</ul>
				</section>

				<section>
					<img src="img/pdemail.png">
				</section>

				<section>
				<pre><code data-trim>
$send.email({
  subject: "Your subject",
  text: "Plain text email body",
  html: "HTML email body"
  include_collaborators: false,
});
</code></pre>
				</section>

				<section>
				<h2>"Real" Demo 1 - Version 2</h2>
				<ul>
				<li class="fragment">Make code more shareable</li>
				<li class="fragment">Demonstrate the big problem</li>
				<li class="fragment">Modify "Search RSS 0"</li>
				</ul>
				<aside class="notes">
				copy, rename to rss 1
				modify code to use params

				</aside>
				</section>

				<section>
				<h2>Workflow Persistance</h2>
				<ul>
				<li class="fragment">$checkpoint</li>
				<li class="fragment">Any JSON serializable object (or simple value)</li>
				<li class="fragment">Workflow level (<code>$checkpoint</code>) or step level (<code>this.$checkpoint</code>)</li>
				<li class="fragment">UI access to view/modify</li>
				</ul>
				</section>

				<section>
				<h2>"Real" Demo 1 - Version 3</h2>
				<ul>
				<li class="fragment">Remember the date of the latest blog entry</li>
				<li class="fragment">Filter out older ones</li>
				<li class="fragment">Update $checkpoint to now</li>
				</ul>
				<aside class="notes">
				copy workflow again

				</aside>
				</section>

				<section data-background="img/cat_qa.png" data-background-opacity="0.2">
				<h2>Q and A</h2>
				<p>Be gentle please...</p>
				</section>


			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ],
				slideNumber:"c/t"
			});
		</script>
	</body>
</html>
